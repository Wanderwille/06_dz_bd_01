# Домашнее задание "6.1. Типы и структура СУБД" - Подус Сергей

## Задание 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Ответ:

Электронные чеки в JSON виде:

Документо-ориентированные СУБД (например, MongoDB).

Документо-ориентированные базы данных хорошо подходят для хранения JSON-подобных данных, таких как электронные чеки. MongoDB, например, обеспечивает гибкость в работе с JSON-подобными документами и позволяет эффективно индексировать и извлекать данные.

Склады и автомобильные дороги для логистической компании:

Пространственные СУБД (например, PostGIS для PostgreSQL).
Для географических данных, таких как информация о складах и автомобильных дорогах, пространственные СУБД предоставляют эффективные средства для хранения, индексации и выполнения запросов по пространственным объектам.

Генеалогические деревья:

Графовые СУБД (например, Neo4j).
Генеалогические деревья легко моделировать в виде графов, где узлы представляют людей, а рёбра — отношения между ними. Графовые базы данных обеспечивают эффективные механизмы для работы с такими данными.

Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутентификации:

Ключ-значение хранилище (например, Redis).
Ключ-значение хранилища идеально подходят для хранения кэшированных данных с ограниченным временем жизни. Redis обеспечивает высокую производительность и поддерживает операции с ключами, что важно для кэширования.

Отношения клиент-покупка для интернет-магазина:

Реляционные СУБД (например, PostgreSQL или MySQL).
Реляционные базы данных хорошо подходят для сценариев, где данные имеют четко определенные отношения между сущностями. В случае интернет-магазина, где есть связи между клиентами и их покупками, реляционная модель данных облегчит управление и выполнение запросов.

## Задание 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Ответ:

Согласно CAP-теореме, распределённые системы могут обеспечивать только два из трех свойств: Consistency (Согласованность), Availability (Доступность) и Partition tolerance 

(Устойчивость к разделению). Вот как можно классифицировать каждую из реализаций системы, ориентируясь на CAP-теорему:

Данные записываются на все узлы с задержкой до часа (асинхронная запись):

- Consistency (C): Высокая согласованность, так как данные записываются на все узлы.
- Availability (A): Возможно, уменьшенная доступность из-за задержки записи.
- Partition tolerance (P): Вероятно, устойчивость к разделению, так как система может продолжать работу даже при временных разделениях.
- Классификация: CP (Consistency, Partition tolerance)

При сетевых сбоях система может разделиться на 2 раздельных кластера:

- Consistency (C): Вероятно, уменьшенная согласованность в случае разделения, так как кластеры могут оперировать независимо.
- Availability (A): Вероятно, уменьшенная доступность в случае разделения, так как часть системы может быть недоступной.
- Partition tolerance (P): Высокая устойчивость к разделению, так как система может продолжать работать даже при разделении на кластеры.
- Классификация: AP (Availability, Partition tolerance)

Система может не прислать корректный ответ или сбросить соединение:

- Consistency (C): Вероятно, уменьшенная согласованность, так как ответ может быть некорректным.
- Availability (A): Высокая доступность, так как система продолжает принимать запросы.
- Partition tolerance (P): Высокая устойчивость к разделению, так как система продолжает работать, даже если есть проблемы с сетью.
- Классификация: AP (Availability, Partition tolerance)

Согласно PACELC-теореме (PACELC = Partition tolerance, Availability, Consistency, Else, something, something), первоочередным аспектом является Partition tolerance (Устойчивость к разделению), поэтому системы в основном классифицируются как CP или AP.